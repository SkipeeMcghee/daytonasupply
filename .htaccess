# Redirect HTTP to HTTPS (works with reverse proxies/nginx)
RewriteEngine On
RewriteCond %{HTTPS} !=on
RewriteCond %{HTTP:X-Forwarded-Proto} !https
RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# Auto-upgrade any http:// resources to https://
<IfModule mod_headers.c>
  Header always set Content-Security-Policy "upgrade-insecure-requests"
</IfModule>

# Force MySQL usage in production
SetEnv DB_DRIVER mysql
SetEnv DB_HOST localhost
SetEnv DB_NAME daytona_supply
SetEnv DB_USER brian
SetEnv DB_PASS 273h4ui^N

# SMTP for automated emails (Plesk)
# Sender (From) should be the official company address
SetEnv COMPANY_EMAIL info@daytona-supply.com
# Internal notifications (order alerts, contact form) go here
SetEnv NOTIFY_EMAIL packinggenerals@gmail.com
# SMTP server settings (STARTTLS on 587)
SetEnv SMTP_HOST mail.daytona-supply.com
SetEnv SMTP_PORT 587
SetEnv SMTP_USER info@daytona-supply.com
# IMPORTANT: Replace the placeholder below with the actual mailbox password in production
SetEnv SMTP_PASS b1An707j~
SetEnv SMTP_SECURE tls
SetEnv SMTP_AUTH true
